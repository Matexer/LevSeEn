<!DOCTYPE html>
<html>
<head></head>
<body>
<script src="lse.wasm.js"></script>

<button class="mybutton">Run myFunction</button>

<script>
    document.querySelector('.mybutton')
        .addEventListener('click', function() {
            var pattern = "Żółw";
            var patternBuffer = Module._malloc(pattern.length + 1);
            Module.stringToUTF8(pattern, patternBuffer, pattern.length);

            var word = "Żółw2";
            var wordBuffer = Module._malloc(word.length + 1);
            Module.stringToUTF8(word, wordBuffer, word.length);

            var result = Module.ccall(
                'getDistance8',  // name of C function
                'number',  // return type
                ['number', 'number', 'number', 'number'],  // argument types
                [patternBuffer, wordBuffer, pattern.length, word.length]  // arguments
            );

            Module._free(patternBuffer);
            Module._free(wordBuffer);

            console.log(result);

        });
</script>

</body>
</html>